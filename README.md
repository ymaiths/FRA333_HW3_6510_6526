แนวคิดและวิธีทำข้อ 1, 2, และ 3 (ไฟล์สำหรับเขียนคำตอบ)

## ข้อ 1: endEffectorJacobianHW3(q)

จาโคเบียนประกอบไปด้วย 2 ส่วนหลัก ๆ คือ:
1.ความเร็วเชิงเส้น (J_v) ซึ่งเกี่ยวข้องกับตำแหน่งของ end-effector
2.ความเร็วเชิงมุม (J_w) ซึ่งเกี่ยวข้องกับทิศทางการหมุนของข้อต่อ

**การดึงค่ามุมของข้อต่อ (q)**
รับค่า q เป็นเวกเตอร์ที่ประกอบไปด้วยมุมของข้อต่อทั้งหมด (q1, q2, q3)
คำนวณ Forward Kinematics:

ใช้ฟังก์ชัน FKHW3(q) เพื่อคำนวณตำแหน่งและการหมุนของแต่ละลิงก์ในระบบ ซึ่งได้ค่าทั้งเมทริกซ์การหมุน (\R) และตำแหน่ง (\P)

สร้างเมทริกซ์จาโคเบียน:

- joint 1:
  ใช้แกน Z ของข้อต่อแรก (z0) มาคำนวณครอสโปรดักต์กับตำแหน่งของ end-effector เพื่อคำนวณ J_v ของข้อต่อที่ 1
  กำหนด J_w ของข้อต่อที่ 1 ให้เท่ากับแกน Z ของข้อต่อ

- joint 2 , 3:
  ทำขั้นตอนเดียวกันกับข้อต่อที่ 1 แต่ใช้แกน Z ของแต่ละข้อต่อในการคำนวณและใช้ตำแหน่งที่สัมพันธ์กับข้อต่อนั้น ๆ

ประกอบเมทริกซ์จาโคเบียน:
รวม J_v และ J_w เพื่อสร้างเมทริกซ์จาโคเบียนขนาด (6x3)

**ผลลัพธ์**
ฟังก์ชันจะคืนค่าเมทริกซ์จาโคเบียน (J_e) ที่ประกอบไปด้วยความสัมพันธ์ระหว่างความเร็วของข้อต่อและความเร็วของ end-effector

---

## ข้อ 2: checkSingularityHW3(q)

การตรวจสอบจุด Singularity โดยการคำนวณค่าดีเทอร์มิแนนต์ของเมทริกซ์ Jacobian (det(J))

**คำนวณเมทริกซ์จาโคเบียน**
ใช้ฟังก์ชัน endEffectorJacobianHW3(q) เพื่อหาค่าเมทริกซ์จาโคเบียน (J_e) สำหรับการกำหนดค่าข้อต่อ (q)

**คำนวณค่าดีเทอร์มิแนนต์**
ใช้เฉพาะส่วนของความเร็วเชิงเส้น (J_v) ในการคำนวณค่า det
ถ้าค่าดีเทอร์มิแนนต์ใกล้เคียงศูนย์หรือเป็นศูนย์ จะถือว่าหุ่นยนต์อยู่ในจุด singularity

**ตรวจสอบว่าจุด singularity หรือไม่**
เปรียบเทียบค่าดีเทอร์มิแนนต์กับค่าที่กำหนด (epsilon = 0.001) ถ้าค่า det น้อยกว่าหรือเท่ากับ epsilon จะถือว่าเป็นจุด singularity

**ผลลัพธ์**
ฟังก์ชันจะคืนค่า True ถ้าหุ่นยนต์อยู่ในจุด singularity และคืนค่า False ถ้าไม่ใช่

---

## ข้อ 3: computeEffortHW3(q, w)

เมื่อมีแรงหรือโมเมนต์กระทำที่ end-effector ของหุ่นยนต์ เราจำเป็นต้องคำนวณแรงบิดที่ต้องใช้ในแต่ละข้อต่อเพื่อให้ต้านทานแรงนี้ได้

ใช้เมทริกซ์จาโคเบียน (J) แบบทรานสโพสในการคำนวณแรงบิดที่ข้อต่อ โดยใช้สูตร:

```math

\tau = J^T w

```

โดยที่ w คือเวกเตอร์แรงและโมเมนต์ที่กระทำที่ end-effector

**คำนวณเมทริกซ์จาโคเบียน**
ใช้ฟังก์ชัน endEffectorJacobianHW3(q) เพื่อหาค่าเมทริกซ์จาโคเบียน (J_e)

**คำนวณแรงบิดที่ข้อต่อ**
ทรานสโพสเมทริกซ์จาโคเบียน (J_e.T)
คูณเมทริกซ์จาโคเบียนที่ทรานสโพสแล้วกับเวกเตอร์แรง (w) เพื่อหาแรงบิด (tau)

**ผลลัพธ์**
ฟังก์ชันจะคืนค่าแรงบิดที่ข้อต่อ (tau) ซึ่งเป็นเวกเตอร์ที่บอกแรงบิดที่ต้องใช้ในแต่ละข้อต่อเพื่อต้านทานแรงและโมเมนต์ที่กระทำ

---

ขั้นตอนและแนวคิดในการตรวจคำตอบ

1. ขั้นตอนการตรวจสอบคำตอบ

**การทดสอบฟังก์ชัน endEffectorJacobianHW3(q)**
ตรวจสอบว่าเมตริกซ์จาโคเบียน (J_e) ที่ได้มีขนาดที่ถูกต้อง (6x3) และผลลัพธ์มีค่าตามที่คาดไว้เมื่อใส่ค่าต่างๆ ให้กับ q เช่น [0, 0, 0] หรือค่าอื่นๆ

**การทดสอบฟังก์ชัน checkSingularityHW3(q)**
ตรวจสอบว่าฟังก์ชันสามารถระบุได้ว่าเฟรมพิกัดอยู่ในภาวะใกล้จุดเอกฐาน (singularity) หรือไม่ โดยใช้ตัวอย่างของ q เช่น [0, 0, 0] และตรวจสอบว่าผลลัพธ์เป็น True หรือ False

**การทดสอบฟังก์ชัน computeEffortHW3(q, w)**
ทดสอบว่าฟังก์ชันสามารถคำนวณค่าแรงบิดที่ต้องการสำหรับแต่ละข้อต่อได้ถูกต้องเมื่อกำหนดค่า q และค่า w (แรงและโมเมนต์ภายนอก)

2. แนวคิดของการตรวจคำตอบและผลลัพธ์ของการตรวจสอบ

**แนวคิดของการตรวจคำตอบ**
-การตรวจคำตอบเป็นการทดสอบเพื่อให้มั่นใจว่าฟังก์ชันให้ผลลัพธ์ที่ถูกต้องภายใต้เงื่อนไขต่างๆ โดยโค้ดทดสอบได้ครอบคลุมทั้งการตรวจสอบขนาดของเมตริกซ์ ความถูกต้องของการคำนวณจุดเอกฐาน และการคำนวณแรงบิดในข้อต่อ

FRA333_HW3_6510_6526
